{"ast":null,"code":"var _jsxFileName = \"/Users/jbrundagejr/Development/code/Mod4/phase-4-final/frontend/vinyl-app/src/components/VinylModal.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { Modal, Image, Input, Rating, Form, Button, Comment } from 'semantic-ui-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction VinylModal({\n  id\n}) {\n  _s();\n\n  const [vinyl, setVinyl] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [userTitle, setUserTitle] = useState(\"\");\n  const [userContent, setUserContent] = useState(\"\");\n  const [userRating, setUserRating] = useState(\"\");\n  const [open, setOpen] = useState(false);\n  useEffect(() => {\n    fetch(`http://localhost:3000/vinyls/${id}`).then(res => res.json()).then(vinylData => {\n      setVinyl(vinylData);\n      setIsLoaded(true);\n    });\n  }, [id]);\n  if (!isLoaded) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 25\n  }, this);\n  const {\n    band_name,\n    album_title,\n    image_url,\n    year_released,\n    in_production,\n    reviews\n  } = vinyl;\n  const reviewArray = reviews.map(reviewObj => /*#__PURE__*/_jsxDEV(Comment, {\n    children: /*#__PURE__*/_jsxDEV(Comment.Content, {\n      children: [/*#__PURE__*/_jsxDEV(Comment.Author, {\n        children: reviewObj.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Comment.Author, {\n        children: [\"By: \", reviewObj.user.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Comment.Text, {\n        children: reviewObj.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Comment.Text, {\n        children: [\"Rating: \", reviewObj.rating]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this)\n  }, reviewObj.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this));\n\n  function rateAlbum(rating) {\n    setUserRating(rating);\n  }\n\n  function handleReviewSubmit(e) {\n    e.preventDefault();\n    const reviewData = {\n      // user_id: user.id\n      vinyl_id: vinyl.id,\n      title: userTitle,\n      content: userContent,\n      rating: parseInt(userRating)\n    };\n    fetch(\"http://localhost:3000/reviews\", {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\"\n      },\n      body: JSON.stringify(reviewData)\n    }).then(res => res.json()).then(updatedVinyl => {\n      setVinyl(updatedVinyl);\n      setUserTitle(\"\");\n      setUserContent(\"\");\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      onClose: () => setOpen(false),\n      onOpen: () => setOpen(true),\n      open: open,\n      trigger: /*#__PURE__*/_jsxDEV(Button, {\n        children: \"Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 18\n      }, this),\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        children: album_title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Content, {\n        image: true,\n        children: [/*#__PURE__*/_jsxDEV(Image, {\n          size: \"medium\",\n          src: image_url,\n          wrapped: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Description, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: band_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Year Released: \", year_released]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Still in Production? \", in_production]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Average User Rating: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Comment.Group, {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Reviews\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 13\n            }, this), reviewArray, /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"rate-title\",\n              children: \"Rate this album\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Form, {\n              onSubmit: handleReviewSubmit,\n              reply: true,\n              children: [/*#__PURE__*/_jsxDEV(Input, {\n                value: userTitle,\n                onChange: e => setUserTitle(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                value: userContent,\n                onChange: e => setUserContent(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Rating, {\n                onRate: rateAlbum,\n                value: userRating,\n                maxRating: 5,\n                clearable: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                content: \"Add Review\",\n                labelPosition: \"left\",\n                icon: \"edit\",\n                primary: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n\n_s(VinylModal, \"+f6k6DeCUUdk0zjEVhUM9Q5O7j0=\");\n\n_c = VinylModal;\nexport default VinylModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"VinylModal\");","map":{"version":3,"sources":["/Users/jbrundagejr/Development/code/Mod4/phase-4-final/frontend/vinyl-app/src/components/VinylModal.js"],"names":["useState","useEffect","Modal","Image","Input","Rating","Form","Button","Comment","VinylModal","id","vinyl","setVinyl","isLoaded","setIsLoaded","userTitle","setUserTitle","userContent","setUserContent","userRating","setUserRating","open","setOpen","fetch","then","res","json","vinylData","band_name","album_title","image_url","year_released","in_production","reviews","reviewArray","map","reviewObj","title","user","name","content","rating","rateAlbum","handleReviewSubmit","e","preventDefault","reviewData","vinyl_id","parseInt","method","headers","body","JSON","stringify","updatedVinyl","target","value"],"mappings":";;;AAAA,SAAQA,QAAR,EAAkBC,SAAlB,QAAkC,OAAlC;AACA,SAAQC,KAAR,EAAeC,KAAf,EAAsBC,KAAtB,EAA6BC,MAA7B,EAAqCC,IAArC,EAA2CC,MAA3C,EAAmDC,OAAnD,QAAiE,mBAAjE;;;AAEA,SAASC,UAAT,CAAoB;AAACC,EAAAA;AAAD,CAApB,EAAyB;AAAA;;AACvB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAACa,QAAD,EAAWC,WAAX,IAA0Bd,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACe,SAAD,EAAYC,YAAZ,IAA4BhB,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACiB,WAAD,EAAcC,cAAd,IAAgClB,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACmB,UAAD,EAAaC,aAAb,IAA8BpB,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACqB,IAAD,EAAOC,OAAP,IAAkBtB,QAAQ,CAAC,KAAD,CAAhC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACdsB,IAAAA,KAAK,CAAE,gCAA+Bb,EAAG,EAApC,CAAL,CACGc,IADH,CACQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADf,EAEGF,IAFH,CAEQG,SAAS,IAAI;AACjBf,MAAAA,QAAQ,CAACe,SAAD,CAAR;AACAb,MAAAA,WAAW,CAAC,IAAD,CAAX;AACD,KALH;AAMD,GAPQ,EAON,CAACJ,EAAD,CAPM,CAAT;AASA,MAAI,CAACG,QAAL,EAAe,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AAEf,QAAM;AAACe,IAAAA,SAAD;AAAYC,IAAAA,WAAZ;AAAyBC,IAAAA,SAAzB;AAAoCC,IAAAA,aAApC;AAAmDC,IAAAA,aAAnD;AAAkEC,IAAAA;AAAlE,MAA6EtB,KAAnF;AAEA,QAAMuB,WAAW,GAAGD,OAAO,CAACE,GAAR,CAAYC,SAAS,iBACvC,QAAC,OAAD;AAAA,2BACE,QAAC,OAAD,CAAS,OAAT;AAAA,8BACE,QAAC,OAAD,CAAS,MAAT;AAAA,kBAAiBA,SAAS,CAACC;AAA3B;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,OAAD,CAAS,MAAT;AAAA,2BAAqBD,SAAS,CAACE,IAAV,CAAeC,IAApC;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,eAGE,QAAC,OAAD,CAAS,IAAT;AAAA,kBAAeH,SAAS,CAACI;AAAzB;AAAA;AAAA;AAAA;AAAA,cAHF,eAIE,QAAC,OAAD,CAAS,IAAT;AAAA,+BAAuBJ,SAAS,CAACK,MAAjC;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,KAAcL,SAAS,CAAC1B,EAAxB;AAAA;AAAA;AAAA;AAAA,UADkB,CAApB;;AAWA,WAASgC,SAAT,CAAmBD,MAAnB,EAA0B;AACxBrB,IAAAA,aAAa,CAACqB,MAAD,CAAb;AACD;;AAED,WAASE,kBAAT,CAA4BC,CAA5B,EAA8B;AAC5BA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,UAAU,GAAG;AACjB;AACAC,MAAAA,QAAQ,EAAEpC,KAAK,CAACD,EAFC;AAGjB2B,MAAAA,KAAK,EAAEtB,SAHU;AAIjByB,MAAAA,OAAO,EAAEvB,WAJQ;AAKjBwB,MAAAA,MAAM,EAAEO,QAAQ,CAAC7B,UAAD;AALC,KAAnB;AAOAI,IAAAA,KAAK,CAAC,+BAAD,EAAkC;AACrC0B,MAAAA,MAAM,EAAE,MAD6B;AAErCC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAF4B;AAKrCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,UAAf;AAL+B,KAAlC,CAAL,CAOGtB,IAPH,CAOQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAPf,EAQGF,IARH,CAQQ8B,YAAY,IAAI;AACpB1C,MAAAA,QAAQ,CAAC0C,YAAD,CAAR;AACAtC,MAAAA,YAAY,CAAC,EAAD,CAAZ;AACAE,MAAAA,cAAc,CAAC,EAAD,CAAd;AACD,KAZH;AAaD;;AAED,sBACE;AAAA,2BACE,QAAC,KAAD;AACE,MAAA,OAAO,EAAE,MAAMI,OAAO,CAAC,KAAD,CADxB;AAEE,MAAA,MAAM,EAAE,MAAMA,OAAO,CAAC,IAAD,CAFvB;AAGE,MAAA,IAAI,EAAED,IAHR;AAIE,MAAA,OAAO,eAAE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJX;AAAA,8BAKE,QAAC,KAAD,CAAO,MAAP;AAAA,kBAAeQ;AAAf;AAAA;AAAA;AAAA;AAAA,cALF,eAME,QAAC,KAAD,CAAO,OAAP;AAAe,QAAA,KAAK,MAApB;AAAA,gCACE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,QAAZ;AAAqB,UAAA,GAAG,EAAEC,SAA1B;AAAqC,UAAA,OAAO;AAA5C;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,KAAD,CAAO,WAAP;AAAA,kCACE;AAAA,sBAAKF;AAAL;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA,0CAAmBG,aAAnB;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,eAGE;AAAA,gDAAyBC,aAAzB;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF,eAKA,QAAC,OAAD,CAAS,KAAT;AAAA,oCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEGE,WAFH,eAGE;AAAI,cAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHF,eAIE,QAAC,IAAD;AAAM,cAAA,QAAQ,EAAES,kBAAhB;AAAoC,cAAA,KAAK,MAAzC;AAAA,sCACE,QAAC,KAAD;AAAO,gBAAA,KAAK,EAAE5B,SAAd;AAAyB,gBAAA,QAAQ,EAAE6B,CAAC,IAAI5B,YAAY,CAAC4B,CAAC,CAACW,MAAF,CAASC,KAAV;AAApD;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE,QAAC,KAAD;AAAO,gBAAA,KAAK,EAAEvC,WAAd;AAA2B,gBAAA,QAAQ,EAAE2B,CAAC,IAAI1B,cAAc,CAAC0B,CAAC,CAACW,MAAF,CAASC,KAAV;AAAxD;AAAA;AAAA;AAAA;AAAA,sBAFF,eAGE,QAAC,MAAD;AAAQ,gBAAA,MAAM,EAAEd,SAAhB;AAA2B,gBAAA,KAAK,EAAEvB,UAAlC;AAA8C,gBAAA,SAAS,EAAE,CAAzD;AAA4D,gBAAA,SAAS;AAArE;AAAA;AAAA;AAAA;AAAA,sBAHF,eAIE,QAAC,MAAD;AAAQ,gBAAA,OAAO,EAAC,YAAhB;AAA6B,gBAAA,aAAa,EAAC,MAA3C;AAAkD,gBAAA,IAAI,EAAC,MAAvD;AAA8D,gBAAA,OAAO;AAArE;AAAA;AAAA;AAAA;AAAA,sBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,kBALA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cANF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AA+BD;;GA3FQV,U;;KAAAA,U;AA6FT,eAAeA,UAAf","sourcesContent":["import {useState, useEffect} from 'react'\nimport {Modal, Image, Input, Rating, Form, Button, Comment} from 'semantic-ui-react'\n\nfunction VinylModal({id}){\n  const [vinyl, setVinyl] = useState(null)\n  const [isLoaded, setIsLoaded] = useState(false)\n  const [userTitle, setUserTitle] = useState(\"\")\n  const [userContent, setUserContent] = useState(\"\")\n  const [userRating, setUserRating] = useState(\"\")\n  const [open, setOpen] = useState(false)\n\n  useEffect(() => {\n    fetch(`http://localhost:3000/vinyls/${id}`)\n      .then(res => res.json())\n      .then(vinylData => {\n        setVinyl(vinylData)\n        setIsLoaded(true)\n      })\n  }, [id])\n\n  if (!isLoaded) return <p>Loading...</p>\n\n  const {band_name, album_title, image_url, year_released, in_production, reviews} = vinyl\n\n  const reviewArray = reviews.map(reviewObj => \n    <Comment key={reviewObj.id}>\n      <Comment.Content>\n        <Comment.Author>{reviewObj.title}</Comment.Author>\n        <Comment.Author>By: {reviewObj.user.name}</Comment.Author>\n        <Comment.Text>{reviewObj.content}</Comment.Text>\n        <Comment.Text>Rating: {reviewObj.rating}</Comment.Text>\n      </Comment.Content>\n    </Comment>\n  )\n\n  function rateAlbum(rating){\n    setUserRating(rating)\n  }\n\n  function handleReviewSubmit(e){\n    e.preventDefault()\n    const reviewData = {\n      // user_id: user.id\n      vinyl_id: vinyl.id,\n      title: userTitle,\n      content: userContent,\n      rating: parseInt(userRating)\n    }\n    fetch(\"http://localhost:3000/reviews\", {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\"\n      },\n      body: JSON.stringify(reviewData)\n    })\n      .then(res => res.json())\n      .then(updatedVinyl => {\n        setVinyl(updatedVinyl)\n        setUserTitle(\"\")\n        setUserContent(\"\")\n      })\n  }\n\n  return (\n    <div>\n      <Modal\n        onClose={() => setOpen(false)}\n        onOpen={() => setOpen(true)}\n        open={open}\n        trigger={<Button>Details</Button>}>\n        <Modal.Header>{album_title}</Modal.Header>\n        <Modal.Content image>\n          <Image size='medium' src={image_url} wrapped />\n          <Modal.Description>\n            <h3>{band_name}</h3>\n            <p>Year Released: {year_released}</p>\n            <p>Still in Production? {in_production}</p>\n            <p>Average User Rating: </p>\n          <Comment.Group>\n            <h3>Reviews</h3>\n            {reviewArray}\n            <h4 className=\"rate-title\">Rate this album</h4>\n            <Form onSubmit={handleReviewSubmit} reply>\n              <Input value={userTitle} onChange={e => setUserTitle(e.target.value)}/>\n              <Input value={userContent} onChange={e => setUserContent(e.target.value)}/>\n              <Rating onRate={rateAlbum} value={userRating} maxRating={5} clearable/>\n              <Button content='Add Review' labelPosition='left' icon='edit' primary />\n            </Form>\n          </Comment.Group>\n        </Modal.Description>\n      </Modal.Content>\n    </Modal>\n    </div>\n  )\n}\n\nexport default VinylModal"]},"metadata":{},"sourceType":"module"}