{"ast":null,"code":"var _jsxFileName = \"/Users/jbrundagejr/Development/code/Mod4/phase-4-final/frontend/vinyl-app/src/components/Profile.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport { useParams, NavLink } from \"react-router-dom\";\nimport { Card, Icon } from 'semantic-ui-react';\nimport ReviewCard from './ReviewCard';\nimport VinylModal from './VinylModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Profile({\n  loggedInUser\n}) {\n  _s();\n\n  const [userData, setUserData] = useState({});\n  const [isLoaded, setIsLoaded] = useState(false);\n  const params = useParams();\n  useEffect(() => {\n    fetch(`https://peaceful-hollows-67278.herokuapp.com/users/${params.id}`).then(resp => resp.json()).then(function (serverUserInfo) {\n      setUserData(serverUserInfo);\n      setIsLoaded(true);\n    });\n  }, [params.id]);\n\n  function averageRating(reviewArr) {\n    let ratingsArr = reviewArr.map(review => review.rating);\n    let avg = ratingsArr.reduce((a, b) => a + b) / ratingsArr.length;\n    return avg.toFixed(2);\n  }\n\n  if (isLoaded) {\n    const userReviewsList = userData.reviews.map(review => {\n      return /*#__PURE__*/_jsxDEV(ReviewCard, {\n        review: review\n      }, review.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 14\n      }, this);\n    });\n    const collectionList = userData.reviews.map(review => {\n      return /*#__PURE__*/_jsxDEV(VinylModal, {\n        loggedInUser: loggedInUser,\n        tag: \"collection\",\n        id: review.vinyl_id\n      }, review.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 14\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-page\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-panel\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: userData.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: userData.image_url,\n            alt: userData.name,\n            style: {\n              height: \"300px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 90\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `mailto: ${userData.email}`,\n            children: [\" \", /*#__PURE__*/_jsxDEV(Icon, {\n              name: \"mail\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 52\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Total Reviews: \", userData.reviews.length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Average Vinyl Rating: \", userData.reviews.length === 0 ? \"N/A\" : averageRating(userData.reviews)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-reviews-list\",\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Content, {\n              children: /*#__PURE__*/_jsxDEV(Card.Header, {\n                children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                  id: \"my-reviews\",\n                  children: \"My Reviews\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 54,\n                  columnNumber: 26\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Card.Content, {\n              children: [userReviewsList.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                id: \"no-reviews\",\n                children: \"No reviews yet.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 45\n              }, this) : null, userReviewsList]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 11\n          }, this), loggedInUser ? /*#__PURE__*/_jsxDEV(NavLink, {\n            to: \"/addVinyl\",\n            children: \"Add a Record\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 27\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        id: \"my-collection-h2\",\n        children: \"My Collection\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-collection\",\n        children: [collectionList.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          id: \"no-collection\",\n          children: \"Review a vinyl to add it to your collection.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 42\n        }, this) : null, collectionList]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s(Profile, \"oVpvdg89SGyTbnOSQHD1YOD3HWs=\", false, function () {\n  return [useParams];\n});\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["/Users/jbrundagejr/Development/code/Mod4/phase-4-final/frontend/vinyl-app/src/components/Profile.js"],"names":["useEffect","useState","useParams","NavLink","Card","Icon","ReviewCard","VinylModal","Profile","loggedInUser","userData","setUserData","isLoaded","setIsLoaded","params","fetch","id","then","resp","json","serverUserInfo","averageRating","reviewArr","ratingsArr","map","review","rating","avg","reduce","a","b","length","toFixed","userReviewsList","reviews","collectionList","vinyl_id","name","image_url","height","email"],"mappings":"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","sourcesContent":["import { useEffect, useState} from 'react'\nimport { useParams, NavLink } from \"react-router-dom\"\nimport {Card, Icon} from 'semantic-ui-react'\nimport ReviewCard from './ReviewCard'\nimport VinylModal from './VinylModal'\n\nfunction Profile({loggedInUser}){\n  const [userData, setUserData] = useState({})\n  const [isLoaded, setIsLoaded] = useState(false)\n  const params = useParams()\n\n  useEffect(() => {\n    fetch(`https://peaceful-hollows-67278.herokuapp.com/users/${params.id}`)\n        .then(resp => resp.json())\n        .then(function(serverUserInfo) {\n            setUserData(serverUserInfo)\n            setIsLoaded(true)\n        })\n  }, [params.id])\n\n  function averageRating(reviewArr) {\n    let ratingsArr = reviewArr.map(review => review.rating)\n    let avg = ratingsArr.reduce((a, b) => a + b) / ratingsArr.length\n    return avg.toFixed(2)\n  }\n\n  if (isLoaded) {\n\n    const userReviewsList = userData.reviews.map(review => {\n      return <ReviewCard key={review.id} review={review} />\n    })\n\n    const collectionList = userData.reviews.map(review => {\n      return <VinylModal loggedInUser={loggedInUser}\n                         key={review.id}\n                         tag=\"collection\"\n                         id={review.vinyl_id}\n                        />\n    })\n\n    return (\n      <>\n        <div className=\"profile-page\">\n          <div className=\"info-panel\">\n            <h1>{userData.name}</h1>\n            <img src={userData.image_url} alt={userData.name} style={{height: \"300px\"}}/><br/>\n            <a href={`mailto: ${userData.email}`}> <Icon name=\"mail\"></Icon></a>\n            <p>Total Reviews: {userData.reviews.length}</p>\n            <p>Average Vinyl Rating: {userData.reviews.length === 0 ? \"N/A\" : averageRating(userData.reviews)}</p>\n          </div>\n          <div className=\"user-reviews-list\">\n          <Card>\n            <Card.Content>\n            <Card.Header><h3 id=\"my-reviews\">My Reviews</h3></Card.Header>\n            </Card.Content>\n            <Card.Content>\n            {userReviewsList.length === 0 ? <p id=\"no-reviews\">No reviews yet.</p> : null}\n            {userReviewsList}\n            </Card.Content>\n          </Card>\n          {loggedInUser ? <NavLink to=\"/addVinyl\">Add a Record</NavLink> : null }\n          </div>\n        </div>\n        <h2 id=\"my-collection-h2\">My Collection</h2>\n        <div className=\"profile-collection\">\n          {collectionList.length === 0 ? <p id=\"no-collection\">Review a vinyl to add it to your collection.</p> : null}\n          {collectionList}\n        </div>\n      </>\n    )\n  } else {\n    return (\n      <p>Loading</p>\n    )\n  }\n}\n\nexport default Profile"]},"metadata":{},"sourceType":"module"}